{"version":3,"sources":["Photo.js","App.js","index.js"],"names":["Photo","regular","urls","alt_description","likes","user","name","portfolio_url","medium","profile_image","className","src","alt","href","target","rel","clientID","process","App","useState","loading","setLoading","photos","setPhotos","page","setPage","query","setQuery","fetchImages","a","urlPage","urlQuery","url","fetch","response","json","data","oldPhotos","results","console","log","useEffect","event","window","addEventListener","innerHeight","scrollY","document","body","scrollHeight","oldPage","removeEventListener","type","placeholder","value","onChange","e","onClick","preventDefault","map","image","id","ReactDOM","render","StrictMode","getElementById"],"mappings":"iPA6BeA,EA3BD,SAAC,GASR,IARGC,EAQJ,EARJC,KAAQD,QACRE,EAOI,EAPJA,gBACAC,EAMI,EANJA,MAMI,IALJC,KACEC,EAIE,EAJFA,KACAC,EAGE,EAHFA,cACiBC,EAEf,EAFFC,cAAiBD,OAGnB,OACE,0BAASE,UAAU,QAAnB,UACE,qBAAKC,IAAKV,EAASW,IAAKT,IACxB,sBAAKO,UAAU,aAAf,UACE,gCACE,6BAAKJ,IAEL,8BAAIF,EAAJ,eAEF,mBAAGS,KAAMN,EAAeO,OAAO,SAASC,IAAI,aAA5C,SACE,qBAAKJ,IAAKH,EAAQI,IAAKN,EAAMI,UAAU,sBChB3CM,EAAQ,qBAAiBC,+CA4FhBC,MA1Ff,WACE,MAA8BC,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA4BF,mBAAS,IAArC,mBAAOG,EAAP,KAAeC,EAAf,KACA,EAAwBJ,mBAAS,GAAjC,mBAAOK,EAAP,KAAaC,EAAb,KACA,EAA0BN,mBAAS,IAAnC,mBAAOO,EAAP,KAAcC,EAAd,KAEMC,EAAW,uCAAG,oCAAAC,EAAA,6DAClBR,GAAW,GAELS,EAHY,gBAGON,GACnBO,EAJY,iBAISL,GAGzBM,EADEN,EACC,UAhBM,2CAgBN,OAAkBV,GAAlB,OAA6Bc,GAA7B,OAAuCC,GAEvC,UAnBI,oCAmBJ,OAAgBf,GAAhB,OAA2Bc,GATd,kBAaOG,MAAMD,GAbb,cAaVE,EAbU,iBAcGA,EAASC,OAdZ,QAcVC,EAdU,OAehBb,GAAU,SAAAc,GACR,OAAIX,GAAkB,IAATF,EACJY,EAAKE,QAEN,GAAN,mBAAWD,GADFX,EACT,YAAyBU,EAAKE,SAE9B,YAAyBF,OAG7Bf,GAAW,GAxBK,kDA0BhBA,GAAW,GACXkB,QAAQC,IAAR,MA3BgB,0DAAH,qDAwDjB,OApBAC,qBAAU,WACRb,MAEC,CAACJ,IAEJiB,qBAAU,WACR,IAAMC,EAAQC,OAAOC,iBAAiB,UAAU,YAE3CxB,GACDuB,OAAOE,YAAcF,OAAOG,SAAWC,SAASC,KAAKC,aAAe,GAEpExB,GAAQ,SAAAyB,GACN,OAAOA,EAAU,QAIvB,OAAO,kBAAMP,OAAOQ,oBAAoB,SAAUT,MAEjD,IAGD,iCACE,yBAAShC,UAAU,SAAnB,SACE,uBAAMA,UAAU,cAAhB,UACE,uBACE0C,KAAK,OACLC,YAAY,SACZ3C,UAAU,aACV4C,MAAO5B,EACP6B,SAAU,SAAAC,GAAC,OAAI7B,EAAS6B,EAAE1C,OAAOwC,UAEnC,wBAAQF,KAAK,SAAS1C,UAAU,aAAa+C,QApChC,SAAAD,GACnBA,EAAEE,iBACFjC,EAAQ,IAkCF,SACE,cAAC,IAAD,WAIN,0BAASf,UAAU,SAAnB,UACE,qBAAKA,UAAU,gBAAf,SACGY,EAAOqC,KAAI,SAAAC,GACV,OAAO,cAAC,EAAD,eAA0BA,GAAdA,EAAMC,SAG5BzC,GAAW,oBAAIV,UAAU,UAAd,+BCvFpBoD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFjB,SAASkB,eAAe,W","file":"static/js/main.05e50a54.chunk.js","sourcesContent":["import React from 'react';\n\nconst Photo = ({\n  urls: { regular },\n  alt_description,\n  likes,\n  user: {\n    name,\n    portfolio_url,\n    profile_image: { medium },\n  },\n}) => {\n  return (\n    <article className='photo'>\n      <img src={regular} alt={alt_description} />\n      <div className='photo-info'>\n        <div>\n          <h4>{name}</h4>\n\n          <p>{likes} Likes</p>\n        </div>\n        <a href={portfolio_url} target='_blank' rel='noreferrer'>\n          <img src={medium} alt={name} className='user-img' />\n        </a>\n      </div>\n    </article>\n  );\n};\n\nexport default Photo;\n","import { useState, useEffect } from 'react';\nimport { FaSearch } from 'react-icons/fa';\nimport Photo from './Photo';\n\nconst mainURL = `https://api.unsplash.com/photos/`;\nconst searchURL = `https://api.unsplash.com/search/photos/`;\nconst clientID = `?client_id=${process.env.REACT_APP_ACCESS_KEY}`;\n\nfunction App() {\n  const [loading, setLoading] = useState(false);\n  const [photos, setPhotos] = useState([]);\n  const [page, setPage] = useState(0);\n  const [query, setQuery] = useState('');\n\n  const fetchImages = async () => {\n    setLoading(true);\n    let url;\n    const urlPage = `&page=${page}`;\n    const urlQuery = `&query=${query}`;\n\n    if (query) {\n      url = `${searchURL}${clientID}${urlPage}${urlQuery}`;\n    } else {\n      url = `${mainURL}${clientID}${urlPage}`;\n    }\n\n    try {\n      const response = await fetch(url);\n      const data = await response.json();\n      setPhotos(oldPhotos => {\n        if (query && page === 1) {\n          return data.results;\n        } else if (query) {\n          return [...oldPhotos, ...data.results];\n        } else {\n          return [...oldPhotos, ...data];\n        }\n      });\n      setLoading(false);\n    } catch (error) {\n      setLoading(false);\n      console.log(error);\n    }\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setPage(1);\n  };\n\n  useEffect(() => {\n    fetchImages();\n    // eslint-disable-next-line\n  }, [page]);\n\n  useEffect(() => {\n    const event = window.addEventListener('scroll', () => {\n      if (\n        !loading &&\n        window.innerHeight + window.scrollY >= document.body.scrollHeight - 2\n      ) {\n        setPage(oldPage => {\n          return oldPage + 1;\n        });\n      }\n    });\n    return () => window.removeEventListener('scroll', event);\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <main>\n      <section className='serach'>\n        <form className='search-form'>\n          <input\n            type='text'\n            placeholder='search'\n            className='form-input'\n            value={query}\n            onChange={e => setQuery(e.target.value)}\n          />\n          <button type='submit' className='submit-btn' onClick={handleSubmit}>\n            <FaSearch />\n          </button>\n        </form>\n      </section>\n      <section className='photos'>\n        <div className='photos-center'>\n          {photos.map(image => {\n            return <Photo key={image.id} {...image} />;\n          })}\n        </div>\n        {loading && <h2 className='loading'>Loading...</h2>}\n      </section>\n    </main>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}